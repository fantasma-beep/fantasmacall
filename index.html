<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.65">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
    span.s1 {font: 12.0px 'Apple Color Emoji'}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="es"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;FantasmaCall&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Inter', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #202124;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #E8EAED;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.control-button {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-direction: column;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 80px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 60px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 12px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: background-color 0.2s ease-in-out;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.control-button:hover {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #3c4043;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.control-button.active {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #4A4A4A;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">         </span>.control-button.end-call {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #EA4335;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.control-button.end-call:hover {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #D93025;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.video-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 12px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #2D2E30;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.video-container video {</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>object-fit: cover;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.participant-name {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">            </span>bottom: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: rgba(0, 0, 0, 0.5);</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 4px 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 6px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 14px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.hand-raised-icon {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 24px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 24px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: rgba(251, 188, 5, 0.9);</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 50%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>#chat-panel, #participants-panel {</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: transform 0.3s ease-in-out;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.hidden-panel {</p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateX(100%);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body class="flex items-center justify-center h-screen"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Pantalla de Bienvenida --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="welcome-screen" class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h1 class="text-4xl font-bold mb-4"&gt;Bienvenido a FantasmaCall&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p class="text-lg text-gray-300 mb-8"&gt;Ingresa tu nombre para unirte a la reunión.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="flex justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;input type="text" id="username" placeholder="Tu nombre..." class="w-64 px-4 py-2 rounded-lg bg-gray-700 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button id="join-btn" class="ml-4 px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition"&gt;Unirse&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Pantalla de la Llamada --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="call-screen" class="hidden w-full h-full flex flex-col"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- Área de video principal --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;main class="flex-1 p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4" id="video-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- Los videos de los participantes se agregarán aquí --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/main&gt;</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- Barra de Controles --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;footer class="w-full bg-black bg-opacity-30 p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="max-w-4xl mx-auto flex justify-center items-center space-x-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="mute-btn" class="control-button"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-xs mt-1"&gt;Silenciar&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="video-btn" class="control-button"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-xs mt-1"&gt;Video&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="w-px h-8 bg-gray-600"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="participants-btn" class="control-button"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                     </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3_0_015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-xs mt-1"&gt;Participantes&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="chat-btn" class="control-button"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-xs mt-1"&gt;Chat&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="share-btn" class="control-button"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 21h7a2 2 0 002-2V5a2 2 0 00-2-2h-7a2 2 0 00-2 2v14a2 2 0 002 2zM10 7h4m-4 4h4m-4 4h4m-6 4h.01M7 7h.01"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-xs mt-1"&gt;Compartir&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="raise-hand-btn" class="control-button"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-2xl"&gt;<span class="s1">✋</span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-xs mt-1"&gt;Levantar&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="w-px h-8 bg-gray-600"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="end-call-btn" class="control-button end-call"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-6 h-6" fill="white" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"&gt;&lt;path d="M3.5 6.5C3.5 5.94772 3.94772 5.5 4.5 5.5H7.52503C7.99416 5.5 8.41164 5.75015 8.6521 6.16209L10.0521 8.56209C10.273 8.93791 10.273 9.41209 10.0521 9.78791L8.6521 12.1879C8.41164 12.6 7.99416 12.85 7.52503 12.85H5.5C4.94772 12.85 4.5 12.4023 4.5 11.85V6.5H3.5ZM3.5 6.5C2.94772 6.5 2.5 6.94772 2.5 7.5V11.85C2.5 13.5023 3.84772 14.85 5.5 14.85H7.52503C8.77534 14.85 9.87116 14.03 10.3521 12.8879L11.7521 10.4879C12.3129 9.45609 12.3129 8.20391 11.7521 7.16209L10.3521 4.76209C9.87116 3.62 8.77534 2.85 7.52503 2.85H4.5C3.5056 2.85 2.62233 3.41121 2.21948 4.28816L1.61625 5.5786C1.53696 5.74833 1.5 5.93581 1.5 6.1293V17.8707C1.5 18.0642 1.53696 18.2517 1.61625 18.4214L2.21948 19.7118C2.62233 20.5888 3.5056 21.15 4.5 21.15H20.5C21.3284 21.15 22 20.4784 22 19.65V18.5" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-xs mt-1"&gt;Salir&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/footer&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- Paneles Laterales --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;aside id="participants-panel" class="absolute top-0 right-0 h-full w-80 bg-gray-800 shadow-lg p-4 transform translate-x-full hidden-panel"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h2 class="text-xl font-bold mb-4"&gt;Participantes (&lt;span id="participant-count"&gt;1&lt;/span&gt;)&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;ul id="participants-list" class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- Lista de participantes se agrega aquí --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/ul&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/aside&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;aside id="chat-panel" class="absolute top-0 right-0 h-full w-80 bg-gray-800 shadow-lg p-4 flex flex-col transform translate-x-full hidden-panel"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h2 class="text-xl font-bold mb-4"&gt;Chat de la Reunión&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="chat-messages" class="flex-1 overflow-y-auto mb-4 bg-gray-700 rounded-lg p-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- Mensajes del chat --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;input type="text" id="chat-input" placeholder="Escribe un mensaje..." class="flex-1 px-3 py-2 rounded-l-lg bg-gray-600 border-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="send-chat-btn" class="px-4 py-2 bg-blue-600 text-white font-semibold rounded-r-lg hover:bg-blue-700 transition"&gt;Enviar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/aside&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- DOM Elements ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>const welcomeScreen = document.getElementById('welcome-screen');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const callScreen = document.getElementById('call-screen');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const joinBtn = document.getElementById('join-btn');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const usernameInput = document.getElementById('username');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const videoGrid = document.getElementById('video-grid');</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>const muteBtn = document.getElementById('mute-btn');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const videoBtn = document.getElementById('video-btn');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const shareBtn = document.getElementById('share-btn');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const raiseHandBtn = document.getElementById('raise-hand-btn');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const endCallBtn = document.getElementById('end-call-btn');</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>const participantsBtn = document.getElementById('participants-btn');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const chatBtn = document.getElementById('chat-btn');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const participantsPanel = document.getElementById('participants-panel');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const chatPanel = document.getElementById('chat-panel');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const participantsList = document.getElementById('participants-list');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const participantCount = document.getElementById('participant-count');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const chatMessages = document.getElementById('chat-messages');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const chatInput = document.getElementById('chat-input');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const sendChatBtn = document.getElementById('send-chat-btn');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- State ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>let localStream;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let screenStream;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let isMuted = false;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let isVideoOff = false;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let isHandRaised = false;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let isSharingScreen = false;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let username = "Anónimo";</p>
<p class="p1"><span class="Apple-converted-space">        </span>const participants = new Map();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- NOTA SOBRE LA LATENCIA Y WEBRTC ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>// Esta es una simulación de una llamada local. Para una llamada real con baja latencia</p>
<p class="p1"><span class="Apple-converted-space">        </span>// entre múltiples usuarios a través de internet, se necesita la tecnología WebRTC.</p>
<p class="p1"><span class="Apple-converted-space">        </span>// WebRTC establece una conexión directa (peer-to-peer) para minimizar el delay.</p>
<p class="p1"><span class="Apple-converted-space">        </span>// Implementarlo requiere un "servidor de señalización" para que los usuarios</p>
<p class="p1"><span class="Apple-converted-space">        </span>// puedan encontrarse, lo cual va más allá de un archivo HTML único.</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- Simulated Participants ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>const simulatedParticipants = [</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ name: 'Ana Gómez', avatar: 'https://i.pravatar.cc/150?u=ana' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ name: 'Carlos Ruíz', avatar: 'https://i.pravatar.cc/150?u=carlos' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ name: 'Sofía Lara', avatar: 'https://i.pravatar.cc/150?u=sofia' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- Functions ---</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Función para crear el contenedor de video de un participante</p>
<p class="p1"><span class="Apple-converted-space">        </span>const createVideoContainer = (id, name) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.id = `container-${id}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.className = 'video-container aspect-video';</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const video = document.createElement('video');</p>
<p class="p1"><span class="Apple-converted-space">            </span>video.id = `video-${id}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>video.autoplay = true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>video.playsInline = true; // Esencial para baja latencia y compatibilidad móvil</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.appendChild(video);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const nameTag = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>nameTag.className = 'participant-name';</p>
<p class="p1"><span class="Apple-converted-space">            </span>nameTag.textContent = name;</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.appendChild(nameTag);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>return { container, video, nameTag };</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Función para añadir al usuario local</p>
<p class="p1"><span class="Apple-converted-space">        </span>const addLocalUser = async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Pedimos una resolución estándar para no sobrecargar el hardware</p>
<p class="p1"><span class="Apple-converted-space">                </span>const constraints = {<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>video: { width: { ideal: 1280 }, height: { ideal: 720 } },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>audio: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// Opciones de audio para reducir eco y mejorar claridad</p>
<p class="p1"><span class="Apple-converted-space">                        </span>echoCancellation: true,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>noiseSuppression: true,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>autoGainControl: true</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p1"><span class="Apple-converted-space">                </span>localStream = await navigator.mediaDevices.getUserMedia(constraints);</p>
<p class="p1"><span class="Apple-converted-space">                </span>username = usernameInput.value || "Anónimo";</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const { container, video } = createVideoContainer('local', `${username} (Tú)`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>video.srcObject = localStream;</p>
<p class="p1"><span class="Apple-converted-space">                </span>video.muted = true;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>videoGrid.appendChild(container);</p>
<p class="p1"><span class="Apple-converted-space">                </span>participants.set('local', { name: `${username} (Tú)`, handRaised: false, container });</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateParticipantsList();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error("Error al acceder a la cámara o micrófono:", error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert("No se pudo acceder a tu cámara y micrófono. Por favor, revisa los permisos en tu navegador.");</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Función para simular otros participantes uniéndose a la llamada</p>
<p class="p1"><span class="Apple-converted-space">        </span>const addSimulatedParticipants = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>simulatedParticipants.forEach(p =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const id = p.name.toLowerCase().replace(' ', '-');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const { container, video } = createVideoContainer(id, p.name);</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>video.poster = p.avatar;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>container.style.border = '2px solid transparent';</p>
<p class="p1"><span class="Apple-converted-space">                </span>setInterval(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>container.style.borderColor = Math.random() &gt; 0.8 ? '#4285F4' : 'transparent';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 2000);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>videoGrid.appendChild(container);</p>
<p class="p1"><span class="Apple-converted-space">                </span>participants.set(id, { name: p.name, handRaised: false, container });</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateParticipantsList();</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const updateParticipantsList = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>participantsList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>participants.forEach((p, id) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const li = document.createElement('li');</p>
<p class="p1"><span class="Apple-converted-space">                </span>li.className = 'flex items-center';</p>
<p class="p1"><span class="Apple-converted-space">                </span>li.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-sm"&gt;${p.name}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>${p.handRaised ? '&lt;span class="ml-auto text-xl"&gt;<span class="s1">✋</span>&lt;/span&gt;' : ''}</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>participantsList.appendChild(li);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>participantCount.textContent = participants.size;</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- Event Listeners ---</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>joinBtn.addEventListener('click', async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (usernameInput.value.trim() === '') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('Por favor, ingresa tu nombre.');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>welcomeScreen.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>callScreen.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>await addLocalUser();</p>
<p class="p1"><span class="Apple-converted-space">            </span>addSimulatedParticipants();</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>muteBtn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>isMuted = !isMuted;</p>
<p class="p1"><span class="Apple-converted-space">            </span>localStream.getAudioTracks()[0].enabled = !isMuted;</p>
<p class="p1"><span class="Apple-converted-space">            </span>muteBtn.classList.toggle('active', isMuted);</p>
<p class="p1"><span class="Apple-converted-space">            </span>muteBtn.innerHTML = isMuted ?<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>`&lt;svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.983 5.983L12 6v6m0 0l-1.414-1.414M12 12L10.586 10.586m1.414 1.414L12 12zM6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;span class="text-xs mt-1"&gt;Reactivar&lt;/span&gt;` :</p>
<p class="p1"><span class="Apple-converted-space">                </span>`&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;span class="text-xs mt-1"&gt;Silenciar&lt;/span&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>videoBtn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>isVideoOff = !isVideoOff;</p>
<p class="p1"><span class="Apple-converted-space">            </span>localStream.getVideoTracks()[0].enabled = !isVideoOff;</p>
<p class="p1"><span class="Apple-converted-space">            </span>videoBtn.classList.toggle('active', isVideoOff);</p>
<p class="p1"><span class="Apple-converted-space">            </span>videoBtn.innerHTML = isVideoOff ?</p>
<p class="p1"><span class="Apple-converted-space">                </span>`&lt;svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"&gt;&lt;/path&gt;&lt;line x1="1" y1="1" x2="23" y2="23" stroke="currentColor" stroke-width="2"/&gt;&lt;/svg&gt;&lt;span class="text-xs mt-1"&gt;Iniciar&lt;/span&gt;` :</p>
<p class="p1"><span class="Apple-converted-space">                </span>`&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;span class="text-xs mt-1"&gt;Video&lt;/span&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>shareBtn.addEventListener('click', async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (isSharingScreen) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Dejar de compartir</p>
<p class="p1"><span class="Apple-converted-space">                </span>screenStream.getTracks().forEach(track =&gt; track.stop());</p>
<p class="p1"><span class="Apple-converted-space">                </span>const videoTrack = localStream.getVideoTracks()[0];</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('video-local').srcObject = localStream;</p>
<p class="p1"><span class="Apple-converted-space">                </span>isSharingScreen = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>shareBtn.classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Empezar a compartir</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>screenStream = await navigator.mediaDevices.getDisplayMedia({ video: true });</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('video-local').srcObject = screenStream;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>isSharingScreen = true;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>shareBtn.classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Cuando el usuario deja de compartir desde el navegador</p>
<p class="p1"><span class="Apple-converted-space">                    </span>screenStream.getVideoTracks()[0].addEventListener('ended', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>document.getElementById('video-local').srcObject = localStream;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>isSharingScreen = false;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>shareBtn.classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (err) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error("Error al compartir pantalla: ", err);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>raiseHandBtn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>isHandRaised = !isHandRaised;</p>
<p class="p1"><span class="Apple-converted-space">            </span>raiseHandBtn.classList.toggle('active', isHandRaised);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const localParticipant = participants.get('local');</p>
<p class="p1"><span class="Apple-converted-space">            </span>localParticipant.handRaised = isHandRaised;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let handIcon = document.getElementById('hand-icon-local');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (isHandRaised &amp;&amp; !handIcon) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>handIcon = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>handIcon.id = 'hand-icon-local';</p>
<p class="p1"><span class="Apple-converted-space">                </span>handIcon.className = 'hand-raised-icon';</p>
<p class="p1"><span class="Apple-converted-space">                </span>handIcon.innerHTML = '<span class="s1">✋</span>';</p>
<p class="p1"><span class="Apple-converted-space">                </span>localParticipant.container.appendChild(handIcon);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (!isHandRaised &amp;&amp; handIcon) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>handIcon.remove();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateParticipantsList();</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>endCallBtn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (localStream) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>localStream.getTracks().forEach(track =&gt; track.stop());</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (screenStream) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>screenStream.getTracks().forEach(track =&gt; track.stop());</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>callScreen.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>welcomeScreen.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>videoGrid.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>participants.clear();</p>
<p class="p1"><span class="Apple-converted-space">            </span>participantsList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>chatMessages.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Toggle Panels Logic</p>
<p class="p1"><span class="Apple-converted-space">        </span>participantsBtn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>chatPanel.classList.add('hidden-panel');</p>
<p class="p1"><span class="Apple-converted-space">            </span>participantsPanel.classList.toggle('hidden-panel');</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>chatBtn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>participantsPanel.classList.add('hidden-panel');</p>
<p class="p1"><span class="Apple-converted-space">            </span>chatPanel.classList.toggle('hidden-panel');</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Chat Logic</p>
<p class="p1"><span class="Apple-converted-space">        </span>const addChatMessage = (sender, message) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const messageEl = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>messageEl.className = 'mb-2';</p>
<p class="p1"><span class="Apple-converted-space">            </span>messageEl.innerHTML = `&lt;p class="font-bold text-sm text-blue-300"&gt;${sender}&lt;/p&gt;&lt;p class="text-sm bg-gray-900 p-2 rounded-lg"&gt;${message}&lt;/p&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>chatMessages.appendChild(messageEl);</p>
<p class="p1"><span class="Apple-converted-space">            </span>chatMessages.scrollTop = chatMessages.scrollHeight; // Auto-scroll</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>sendChatBtn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const message = chatInput.value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (message.trim() !== '') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>addChatMessage(`${username} (Tú)`, message);</p>
<p class="p1"><span class="Apple-converted-space">                </span>chatInput.value = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Simular respuesta</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                   </span>addChatMessage('Ana Gómez', '¡Entendido!');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 1500);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>chatInput.addEventListener('keypress', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (e.key === 'Enter') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>sendChatBtn.click();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
<p class="p2"><br></p>
</body>
</html>
